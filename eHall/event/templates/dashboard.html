{% extends 'base.html' %}

{% load bootstrap_pagination %}

{% block content %}

<div class="container">
	<div class="row">
        <div class="col-md-12">
            <h3>Events</h3>
            <button class="btn icon-btn btn-success" data-title="Add" data-toggle="modal" data-target="#add"><span class="glyphicon btn-glyphicon glyphicon-plus img-circle text-success"></span> Add</button>

            <table id="event-table" class="table table-responsive table-bordred table-striped">
                <thead>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Status</th>
                    <th>Tickets</th>
                    <th>Actions</th>
                </thead>
                
                <tbody>
                    {% for event in events %}
                        <tr>
                            <td>{{ event.id }}</td>
                            <td>{{ event.name }}</td>
                            <td>{{ event.get_status_display }}</td>
                            <td>{{ event.nbTickets }}</td>
                            <td>
                                <span data-placement="top" data-toggle="tooltip" title="Statistics">
                                    <button class="btn btn-warning btn-xs" data-title="statistics" data-toggle="modal" data-target="#statistics" >
                                    <span class="glyphicon glyphicon-stats"></span></button></span>
                                <span data-placement="top" data-toggle="tooltip" title="Edit">
                                    <button class="btn btn-primary btn-xs" data-title="Edit" data-toggle="modal" data-target="#edit">
                                    <span class="glyphicon glyphicon-pencil"></span></button></span>
                                {% if event.status == 'i' %}
                                    <span data-placement="top" data-toggle="tooltip" title="Delete">
                                        <button class="btn btn-danger btn-xs" data-title="Delete" data-toggle="modal" data-target="#delete">
                                        <span class="glyphicon glyphicon-trash"></span></button></span>
                                {% endif %}
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
            
            <div class="pull-right">{% bootstrap_paginate events range=10 show_first_last="true" %}</div>
        </div>
    </div>
</div>

<div class="modal fade" id="add" tabindex="-1" role="dialog" aria-labelledby="edit" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
          <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
        <h4 class="modal-title custom_align" id="Heading">Create event details</h4>
      </div>
        <div class="modal-body">
        <div class="form-group">
          <label for="Name">Name:</label>
          <input class="form-control " type="text" placeholder="Name your event.">
        </div>
        <div class="form-group">
          <label for="Status">Auditorium:</label>
          <select class="form-control" id="auditorium" name="Auditorium">
              <option>Salle Alphonse</option>
              <option>Salle Jacque</option>
              <option>Salle Mathieu</option>
          </select>
        </div>
        <div class="row">
            <div class='col-sm-6'>
                <div class="form-group">
                    <div class='input-group date' id='datetimepicker1'>
                        <input type='text' class="form-control" />
                        <span class="input-group-addon">
                            <span class="glyphicon glyphicon-calendar"></span>
                        </span>
                    </div>
                </div>
            </div>
            <script type="text/javascript">
                $(function () {
                    $('#datetimepicker1').datetimepicker();
                });
            </script>
        </div>
        <div class="form-group">
          <label for="Tickets">Tickets:</label>
          <input class="form-control " type="text" placeholder="Number of tickets to publish.">
        </div>
        <div class="form-group">
          <label for="Description">Description:</label>
          <textarea rows="2" class="form-control" placeholder="Description Event"></textarea>
        </div>
      </div>
          <div class="modal-footer ">
        <button type="button" class="btn btn-success btn-lg" style="width: 100%;"><span class="glyphicon glyphicon-ok-sign"></span> Add Event</button>
      </div>
    </div>
    <!-- /.modal-content -->
  </div>
      <!-- /.modal-dialog -->
</div>

<div class="modal fade" id="statistics" tabindex="-1" role="dialog" aria-labelledby="edit" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
          <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
        <h4 class="modal-title custom_align" id="Heading">Statistics</h4>
      </div>
          <div class="modal-body">
            <div class="container-fluid">
              <div class="col col-md-12">
                    <center><h4>Current Stats</h4></center>
                        Ticket Bought<span class="pull-right strong"></span>
                         <div class="progress">
                          <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="15"aria-valuemin="0" aria-valuemax="100" style="width:33%">200</div>
                        </div>

                        Number of tickets scanned<span class="pull-right strong"></span>
                         <div class="progress">
                          <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="30"aria-valuemin="0" aria-valuemax="100" style="width:17%">150</div>
                        </div>

                        Gate 1 : scanned tickets<span class="pull-right strong"></span>
                         <div class="progress">
                          <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="8"aria-valuemin="0" aria-valuemax="100" style="width:16%">25</div>
                        </div>

                        Gate 2 : scanned tickets<span class="pull-right strong"></span>
                         <div class="progress">
                          <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="8"aria-valuemin="0" aria-valuemax="100" style="width:33%">50</div>
                        </div>

                        Gate 3 : scanned tickets<span class="pull-right strong"></span>
                         <div class="progress">
                          <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="8"aria-valuemin="0" aria-valuemax="100" style="width:66%">100</div>
                        </div>

              </div>
            </div>
      </div>
        <div class="modal-footer ">
        <button type="button" class="btn btn-default" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> Ok</button>
      </div>
        </div>
    <!-- /.modal-content -->
    </div>
      <!-- /.modal-dialog -->
</div>

<div class="modal fade" id="edit" tabindex="-1" role="dialog" aria-labelledby="edit" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
          <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
        <h4 class="modal-title custom_align" id="Heading">Edit Your Detail</h4>
      </div>
          <div class="modal-body">
            <div class="form-group">
              <label for="Name">Name:</label>
              <input class="form-control " type="text" placeholder="Beatles">
            </div>
            <div class="form-group">
              <label for="Status">Auditorium:</label>
              <select class="form-control" id="auditorium" name="Auditorium">
                  <option>Salle Alphonse</option>
                  <option>Salle Jacque</option>
                  <option>Salle Mathieu</option>
              </select>
            </div>
            <div class="row">
                <div class='col-sm-6'>
                    <div class="form-group">
                        <div class='input-group date' id='datetimepicker1'>
                            <input type='text' class="form-control" />
                            <span class="input-group-addon">
                                <span class="glyphicon glyphicon-calendar"></span>
                            </span>
                        </div>
                    </div>
                </div>
                <script type="text/javascript">
                    $(function () {
                        $('#datetimepicker1').datetimepicker();
                    });
                </script>
            </div>
            <div class="form-group">
              <label for="Tickets">Tickets:</label>
              <input class="form-control " type="text" placeholder="300">
            </div>
            <div class="form-group">
              <label for="Description">Description:</label>
              <textarea rows="2" class="form-control" placeholder="Show des Beatles"></textarea>
            </div>
      </div>
          <div class="modal-footer ">
        <button type="button" class="btn btn-warning btn-lg" style="width: 100%;"><span class="glyphicon glyphicon-ok-sign"></span> Update</button>
      </div>
        </div>
    <!-- /.modal-content -->
  </div>
      <!-- /.modal-dialog -->
</div>



<div class="modal fade" id="delete" tabindex="-1" role="dialog" aria-labelledby="edit" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
          <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
        <h4 class="modal-title custom_align" id="Heading">Delete this entry</h4>
      </div>
          <div class="modal-body">

       <div class="alert alert-danger"><span class="glyphicon glyphicon-warning-sign"></span> Are you sure you want to delete this Record?</div>

      </div>
        <div class="modal-footer ">
        <button type="button" class="btn btn-success" ><span class="glyphicon glyphicon-ok-sign"></span> Yes</button>
        <button type="button" class="btn btn-default" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> No</button>
      </div>
        </div>
    <!-- /.modal-content -->
  </div>
      <!-- /.modal-dialog -->
</div>

{% endblock %}
